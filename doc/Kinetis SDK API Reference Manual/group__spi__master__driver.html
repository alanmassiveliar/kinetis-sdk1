<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Test: SPI Master Peripheral Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="fs_logo.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Test
   &#160;<span id="projectnumber">KL03-alpha</span>
   </div>
   <div id="projectbrief">Freescale Semiconductor, Inc.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">SPI Master Peripheral Driver<div class="ingroups"><a class="el" href="group__spi.html">Serial Peripheral Interface (SPI)</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The section describes the programming interface of the SPI master mode Peripheral driver.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structspi__user__config__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#structspi__user__config__t">spi_user_config_t</a></td></tr>
<tr class="memdesc:structspi__user__config__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about a device on the SPI bus.  <a href="group__spi__master__driver.html#structspi__user__config__t">More...</a><br/></td></tr>
<tr class="separator:structspi__user__config__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga427122f80e42b2207809b5a89cc58131"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#ga427122f80e42b2207809b5a89cc58131">_spi_timeouts</a> { <a class="el" href="group__spi__master__driver.html#gga427122f80e42b2207809b5a89cc58131a2bb5fb851db88e497ad03eff0ced1b6b">kSpiWaitForever</a> = 0xffffffffU
 }</td></tr>
<tr class="separator:ga427122f80e42b2207809b5a89cc58131"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Initialization and shutdown</h2></td></tr>
<tr class="memitem:ga5780b70d09f11699920664612a8d76aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#ga5780b70d09f11699920664612a8d76aa">spi_master_init</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ga5780b70d09f11699920664612a8d76aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes an SPI instance for master mode operation.  <a href="#ga5780b70d09f11699920664612a8d76aa">More...</a><br/></td></tr>
<tr class="separator:ga5780b70d09f11699920664612a8d76aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga585de4ab07459d1d34aa18b19c3eb8f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#ga585de4ab07459d1d34aa18b19c3eb8f6">spi_master_shutdown</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ga585de4ab07459d1d34aa18b19c3eb8f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shuts down an SPI instance.  <a href="#ga585de4ab07459d1d34aa18b19c3eb8f6">More...</a><br/></td></tr>
<tr class="separator:ga585de4ab07459d1d34aa18b19c3eb8f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Bus configuration</h2></td></tr>
<tr class="memitem:gaca456ee263c01c201ace8a7767fe9132"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#gaca456ee263c01c201ace8a7767fe9132">spi_master_configure_bus</a> (uint32_t instance, const <a class="el" href="group__spi__master__driver.html#structspi__user__config__t">spi_user_config_t</a> *device)</td></tr>
<tr class="memdesc:gaca456ee263c01c201ace8a7767fe9132"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the SPI port to access a device on the bus.  <a href="#gaca456ee263c01c201ace8a7767fe9132">More...</a><br/></td></tr>
<tr class="separator:gaca456ee263c01c201ace8a7767fe9132"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Blocking transfers</h2></td></tr>
<tr class="memitem:ga6adefbb941997b320c83ea5d975e3e1b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__spi__hal.html#ga856ecadf3d7fe18c4fc3ae56500f8982">spi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#ga6adefbb941997b320c83ea5d975e3e1b">spi_master_transfer</a> (uint32_t instance, const <a class="el" href="group__spi__master__driver.html#structspi__user__config__t">spi_user_config_t</a> *restrict device, const uint8_t *restrict sendBuffer, uint8_t *restrict receiveBuffer, size_t transferByteCount, uint32_t timeout)</td></tr>
<tr class="memdesc:ga6adefbb941997b320c83ea5d975e3e1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a blocking SPI master mode transfer.  <a href="#ga6adefbb941997b320c83ea5d975e3e1b">More...</a><br/></td></tr>
<tr class="separator:ga6adefbb941997b320c83ea5d975e3e1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Non-blocking transfers</h2></td></tr>
<tr class="memitem:gab9b830c2b3ee303e321a6ed20715f11f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__spi__hal.html#ga856ecadf3d7fe18c4fc3ae56500f8982">spi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#gab9b830c2b3ee303e321a6ed20715f11f">spi_master_transfer_async</a> (uint32_t instance, const <a class="el" href="group__spi__master__driver.html#structspi__user__config__t">spi_user_config_t</a> *restrict device, const uint8_t *restrict sendBuffer, uint8_t *restrict receiveBuffer, size_t transferByteCount)</td></tr>
<tr class="memdesc:gab9b830c2b3ee303e321a6ed20715f11f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a non-blocking SPI master mode transfer.  <a href="#gab9b830c2b3ee303e321a6ed20715f11f">More...</a><br/></td></tr>
<tr class="separator:gab9b830c2b3ee303e321a6ed20715f11f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6f7aa340ed5f20ebdda08c6ed3fdad3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__spi__hal.html#ga856ecadf3d7fe18c4fc3ae56500f8982">spi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#gaf6f7aa340ed5f20ebdda08c6ed3fdad3">spi_master_get_tranfer_status</a> (uint32_t instance, uint32_t *bytesTransferred)</td></tr>
<tr class="memdesc:gaf6f7aa340ed5f20ebdda08c6ed3fdad3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the previous transfer finished.  <a href="#gaf6f7aa340ed5f20ebdda08c6ed3fdad3">More...</a><br/></td></tr>
<tr class="separator:gaf6f7aa340ed5f20ebdda08c6ed3fdad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9745a170510ad0a5b40956819066ac65"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__spi__hal.html#ga856ecadf3d7fe18c4fc3ae56500f8982">spi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#ga9745a170510ad0a5b40956819066ac65">spi_master_abort_transfer</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ga9745a170510ad0a5b40956819066ac65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminates an asynchronous transfer early.  <a href="#ga9745a170510ad0a5b40956819066ac65">More...</a><br/></td></tr>
<tr class="separator:ga9745a170510ad0a5b40956819066ac65"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>


<h3><a class="anchor" id="spimaster"></a>SPI Master Peripheral Driver</h3><div class="textblock"><h1>Overview</h1>
The SPI master mode peripheral driver transfers data to and from the external devices on the SPI bus in master mode. It provides an easy way to transfer buffers of data with a single function call.<h1>Device structures</h1>
The driver uses instances of the #spi_device_t structure to represent the SPI bus configuration required to communicate the bus connectivity to an external device.The device structures can be passed to the data transfer functions and the bus is reconfigured before the transfer is started. Alternatively, you can manually configure the SPI bus for a device. For example, if there is only one device connected to the bus, you might configure it only once.<h1>Initialization</h1>
To initialize the SPI master driver, call the <a class="el" href="group__spi__master__driver.html#ga5780b70d09f11699920664612a8d76aa" title="Initializes an SPI instance for master mode operation. ">spi_master_init()</a> function and pass the instance number of the SPI peripheral you want to use. For example, to use the SPI1, pass a value of 1 to the initialization function.This is an example code to initialize and configure the driver: </p>
<div class="fragment"><div class="line"><span class="comment">// Define bus configuration.</span></div>
<div class="line">spi_device_t device = {</div>
<div class="line">        .busFrequencyKHz = 1000,</div>
<div class="line">        .polarity = <a class="code" href="group__spi__hal.html#gga3e5a7cd043c9596779bc23b34cb3d1f9a0b33c8e75da2f2c6a2e821f94cc77f46">kSpiClockPolarity_ActiveHigh</a>,</div>
<div class="line">        .phase = <a class="code" href="group__spi__hal.html#gga9ad313685ade497f5cbcb71c74a1b4dca58859ca1e960ebb8f6e1121997c6fbbe">kSpiClockPhase_SecondEdge</a>,</div>
<div class="line">        .direction = <a class="code" href="group__spi__hal.html#ggaa68518c16202382c2e1f1c7c66a9d53daefa27165c331b1503fd02a79099e8dfe">kSpiMsbFirst</a></div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line"><span class="comment">// Init driver.</span></div>
<div class="line"><a class="code" href="group__spi__master__driver.html#ga5780b70d09f11699920664612a8d76aa">spi_master_init</a>(0);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Configure bus.</span></div>
<div class="line"><a class="code" href="group__spi__master__driver.html#gaca456ee263c01c201ace8a7767fe9132">spi_master_configure_bus</a>(0, &amp;device);</div>
</div><!-- fragment --><h1>Transfers</h1>
The driver supports two different modes to transfer data: blocking and non-blocking. The blocking transfer function is the <a class="el" href="group__spi__master__driver.html#ga6adefbb941997b320c83ea5d975e3e1b" title="Performs a blocking SPI master mode transfer. ">spi_master_transfer()</a>.This is an example of a blocking transfer: </p>
<div class="fragment"><div class="line">uint8_t sendBuf[] = { 0, 1, 2, 3 };</div>
<div class="line">uint8_t receiveBuf[<span class="keyword">sizeof</span>(sendBuf)];</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__spi__master__driver.html#ga6adefbb941997b320c83ea5d975e3e1b">spi_master_transfer</a>(0,  <span class="comment">// SPI0</span></div>
<div class="line">    &amp;device,            <span class="comment">// Device SPI bus configuration</span></div>
<div class="line">    sendBuf,            <span class="comment">// Data to send</span></div>
<div class="line">    receiveBuf,         <span class="comment">// Buffer to hold received data</span></div>
<div class="line">    <span class="keyword">sizeof</span>(sendBuf),    <span class="comment">// Number of bytes to transfer</span></div>
<div class="line">    <a class="code" href="group__spi__master__driver.html#gga427122f80e42b2207809b5a89cc58131a2bb5fb851db88e497ad03eff0ced1b6b">kSpiWaitForever</a>);   <span class="comment">// No timeout</span></div>
</div><!-- fragment -->This is an example of a non-blocking transfer: </p>
<div class="fragment"><div class="line">uint8_t sendBuf[] = { 0, 1, 2, 3 };</div>
<div class="line">uint8_t receiveBuf[<span class="keyword">sizeof</span>(sendBuf)];</div>
<div class="line"></div>
<div class="line"><span class="comment">// Start the transfer.</span></div>
<div class="line"><a class="code" href="group__spi__master__driver.html#gab9b830c2b3ee303e321a6ed20715f11f">spi_master_transfer_async</a>(0,  <span class="comment">// SPI0</span></div>
<div class="line">    &amp;device,            <span class="comment">// Device SPI bus configuration</span></div>
<div class="line">    sendBuf,            <span class="comment">// Data to send</span></div>
<div class="line">    receiveBuf,         <span class="comment">// Buffer to hold received data</span></div>
<div class="line">    <span class="keyword">sizeof</span>(sendBuf));   <span class="comment">// Number of bytes to transfer</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Wait for the transfer to complete.</span></div>
<div class="line"><span class="keywordflow">while</span> (spi_master_get_transfer_status(0, NULL) == <a class="code" href="group__spi__hal.html#gga856ecadf3d7fe18c4fc3ae56500f8982a703abdf7900047c4d13536480f3463ab">kStatus_SPI_Busy</a>)</div>
<div class="line">{</div>
<div class="line">}</div>
</div><!-- fragment --> </div><hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structspi__user__config__t" id="structspi__user__config__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spi_user_config_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"></div>
</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga427122f80e42b2207809b5a89cc58131"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spi__master__driver.html#ga427122f80e42b2207809b5a89cc58131">_spi_timeouts</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga427122f80e42b2207809b5a89cc58131a2bb5fb851db88e497ad03eff0ced1b6b"></a>kSpiWaitForever</em>&nbsp;</td><td class="fielddoc">
<p>Waits forever for a transfer to complete. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga5780b70d09f11699920664612a8d76aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_master_init </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The instance number of the SPI peripheral. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga585de4ab07459d1d34aa18b19c3eb8f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_master_shutdown </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets the SPI peripheral and gates its clock.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The instance number of the SPI peripheral. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaca456ee263c01c201ace8a7767fe9132"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_master_configure_bus </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__spi__master__driver.html#structspi__user__config__t">spi_user_config_t</a> *&#160;</td>
          <td class="paramname"><em>device</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The instance number of the SPI peripheral. </td></tr>
    <tr><td class="paramname">device</td><td>Pointer to the device information structure. This structure contains the settings for SPI bus configurations. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga6adefbb941997b320c83ea5d975e3e1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__spi__hal.html#ga856ecadf3d7fe18c4fc3ae56500f8982">spi_status_t</a> spi_master_transfer </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__spi__master__driver.html#structspi__user__config__t">spi_user_config_t</a> *restrict&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *restrict&#160;</td>
          <td class="paramname"><em>sendBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *restrict&#160;</td>
          <td class="paramname"><em>receiveBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>transferByteCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function simultaneously sends and receives data on the SPI bus, as SPI is naturally a full-duplex bus.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The instance number of the SPI peripheral. </td></tr>
    <tr><td class="paramname">device</td><td>Pointer to the device information structure. This structure contains the settings for the SPI bus configuration for this transfer. You may pass NULL for this parameter, in which case the current bus configuration is used unmodified. </td></tr>
    <tr><td class="paramname">sendBuffer</td><td>Buffer of data to send. You may pass NULL for this parameter, in which case bytes with a value of 0 (zero) are sent. </td></tr>
    <tr><td class="paramname">receiveBuffer</td><td>Buffer where received bytes are stored. If you pass NULL for this parameter, the received bytes are ignored. </td></tr>
    <tr><td class="paramname">transferByteCount</td><td>The number of bytes to send and receive. </td></tr>
    <tr><td class="paramname">timeout</td><td>A timeout for the transfer in microseconds. If the transfer takes longer than this amount of time, the transfer is aborted and a <a class="el" href="group__spi__hal.html#gga856ecadf3d7fe18c4fc3ae56500f8982a496ced6fffc33d7bbeb01d203dfc4836" title="SPI tranfser timed out. ">kStatus_SPI_Timeout</a> error is returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">#kStatus_Success</td><td>The transfer was successful. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__spi__hal.html#gga856ecadf3d7fe18c4fc3ae56500f8982a703abdf7900047c4d13536480f3463ab" title="SPI instance is already busy performing a transfer. ">kStatus_SPI_Busy</a></td><td>Cannot perform another transfer because one is already in progress. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__spi__hal.html#gga856ecadf3d7fe18c4fc3ae56500f8982a496ced6fffc33d7bbeb01d203dfc4836" title="SPI tranfser timed out. ">kStatus_SPI_Timeout</a></td><td>The transfer timed out and was aborted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab9b830c2b3ee303e321a6ed20715f11f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__spi__hal.html#ga856ecadf3d7fe18c4fc3ae56500f8982">spi_status_t</a> spi_master_transfer_async </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__spi__master__driver.html#structspi__user__config__t">spi_user_config_t</a> *restrict&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *restrict&#160;</td>
          <td class="paramname"><em>sendBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *restrict&#160;</td>
          <td class="paramname"><em>receiveBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>transferByteCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The instance number of the SPI peripheral. </td></tr>
    <tr><td class="paramname">device</td><td>Pointer to the device information structure. This structure contains the settings for the SPI bus configuration for this transfer. You may pass NULL for this parameter, in which case the current bus configuration is used unmodified. </td></tr>
    <tr><td class="paramname">sendBuffer</td><td>Buffer of data to send. You may pass NULL for this parameter, in which case bytes with a value of 0 (zero) will be sent. </td></tr>
    <tr><td class="paramname">receiveBuffer</td><td>Buffer where received bytes are stored. If you pass NULL for this parameter, the received bytes are ignored. </td></tr>
    <tr><td class="paramname">transferByteCount</td><td>The number of bytes to send and receive.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">#kStatus_Success</td><td>The transfer was successful. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__spi__hal.html#gga856ecadf3d7fe18c4fc3ae56500f8982a703abdf7900047c4d13536480f3463ab" title="SPI instance is already busy performing a transfer. ">kStatus_SPI_Busy</a></td><td>Cannot perform another transfer because one is already in progress. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__spi__hal.html#gga856ecadf3d7fe18c4fc3ae56500f8982a496ced6fffc33d7bbeb01d203dfc4836" title="SPI tranfser timed out. ">kStatus_SPI_Timeout</a></td><td>The transfer timed out and was aborted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaf6f7aa340ed5f20ebdda08c6ed3fdad3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__spi__hal.html#ga856ecadf3d7fe18c4fc3ae56500f8982">spi_status_t</a> spi_master_get_tranfer_status </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>bytesTransferred</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The instance number of the SPI peripheral. </td></tr>
    <tr><td class="paramname">bytesTransferred</td><td>Pointer to a value that is filled in with the number of bytes that were sent in the active transfer</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">kStatus_Success</td><td>The transfer has completed successfully. </td></tr>
    <tr><td class="paramname">kStatus_SPI_Busy</td><td>The transfer is still in progress. <em>bytesTransferred</em> is filled with the number of bytes that have been transferred so far. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9745a170510ad0a5b40956819066ac65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__spi__hal.html#ga856ecadf3d7fe18c4fc3ae56500f8982">spi_status_t</a> spi_master_abort_transfer </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The instance number of the SPI peripheral.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">#kStatus_Success</td><td>The transfer was successful. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
&copy; 2014 Freescale Semiconductor, Inc. All rights reserved. 
</small></address>
</body>
</html>
