<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Kinetis SDK v.1.2 API Reference Manual: FlexTimer Peripheral Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="fs_logo.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kinetis SDK v.1.2 API Reference Manual
   &#160;<span id="projectnumber">Rev. 0</span>
   </div>
   <div id="projectbrief">Freescale Semiconductor, Inc.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__quadtmr__driver.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">FlexTimer Peripheral Driver<div class="ingroups"><a class="el" href="group__quadtmr.html">FlexTimer (FTM)</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>This section describes the programming interface of the FlexTimer Peripheral driver.</p>
<h1><a class="anchor" id="FTMOvw"></a>
FlexTimer Overview</h1>
<p>The FlexTimer module is a timer that supports input capture, output compare, and generation of PWM signals. The current Kinetis SDK driver only supports the generation of PWM signals. The input capture and output compare will be supported in upcoming Kinetis SDK releases.</p>
<h1><a class="anchor" id="FTMInit"></a>
FlexTimer Initialization</h1>
<ol>
<li>
To initialize the FlexTimer driver, call the <a class="el" href="group__ftm__driver.html#ga4c70146ed2da14a935d591b63f90f87d" title="Initializes the FTM driver. ">FTM_DRV_Init()</a> function and pass the instance number of the relevant FTM. For example, to use FTM0, pass a value of 0 to the initialization function. </li>
<li>
Pass a user configuration structure <a class="el" href="group__ftm__driver.html#structftm__user__config__t" title="Configuration structure that the user needs to set. ">ftm_user_config_t</a>, as shown here: </li>
</ol>
<div class="fragment"><div class="line"><span class="comment">// FTM configuration structure</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>FtmUserConfig {</div>
<div class="line">    uint8_t tofFrequency;</div>
<div class="line">    <span class="keywordtype">bool</span> isFTMMode;</div>
<div class="line">    uint8_t BDMMode;</div>
<div class="line">    <span class="keywordtype">bool</span> isWriteProtection;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">bool</span> isTimerOverFlowInterrupt;</div>
<div class="line">    <span class="keywordtype">bool</span> isFaultInterrupt;</div>
<div class="line">} <a class="code" href="group__ftm__driver.html#structftm__user__config__t">ftm_user_config_t</a>;</div>
</div><!-- fragment --><h1><a class="anchor" id="FlexTimerGens"></a>
FlexTimer Generate a PWM signal</h1>
<p>FTM calls the <a class="el" href="group__ftm__driver.html#gabbd4c6a9ede5b5701c7c8de200f441b4" title="Configures the duty cycle and frequency and starts outputting the PWM on a specified channel ...">FTM_DRV_PwmStart()</a> function to generate a PWM signal. Use this structure to configure different parameters for the PWM signal:</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>FtmPwmParam</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__ftm__hal.html#gad807c3c9d7e0ccde621aef85081ea8a8">ftm_config_mode_t</a> mode;               </div>
<div class="line">    <a class="code" href="group__ftm__hal.html#gac9d6c8d65d9bba3c96c817c06a104f71">ftm_pwm_edge_mode_t</a> edgeMode; </div>
<div class="line">    uint32_t uFrequencyHZ;                  </div>
<div class="line">    uint32_t uDutyCyclePercent;           </div>
<div class="line">                                          0 = inactive signal(0% duty cycle)...</div>
<div class="line">                                          100 = active signal (100% duty cycle). <span class="comment">//</span></div>
<div class="line">    uint16_t uFirstEdgeDelayPercent;     </div>
<div class="line">                                          Specifies the delay to the first edge in a PWM period.</div>
<div class="line">                                          If unsure leave as 0. Should be specified as</div>
<div class="line">                                          percentage of the PWM period<span class="comment">//</span></div>
<div class="line">} <a class="code" href="group__ftm__hal.html#structftm__pwm__param__t">ftm_pwm_param_t</a>;</div>
</div><!-- fragment --><p>The mode options are kFtmEdgeAlignedPWM, kFtmCenterAlignedPWM, and kFtmCombinedPWM. For edge mode, the options available are kFtmHighTrue and kFtmLowTrue. Specify the PWM signal frequency in Hertz and the duty cycle percentage (value between 0-100). If the PWM mode is kFtmCombinedPWM and if the user chooses to specify a value for the uFirstEdgeDelayPercent, start of the PWM pulse is delayed. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga2653ef9cc5ca81857a145811b7f210de"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__quadtmr__driver.html#ga2653ef9cc5ca81857a145811b7f210de">quadtmr_ip_bus_clock_source_t</a> { <br/>
&#160;&#160;<a class="el" href="group__quadtmr__driver.html#gga2653ef9cc5ca81857a145811b7f210dea12c102670f0220887ee2f1c464e2fa77">kQuadTmrIpBusClkDiv1</a> = 0, 
<br/>
&#160;&#160;<a class="el" href="group__quadtmr__driver.html#gga2653ef9cc5ca81857a145811b7f210dea67b92e6e2f96c20b8649e4a6ba16dc2e">kQuadTmrIpBusClkDiv2</a>, 
<br/>
&#160;&#160;<a class="el" href="group__quadtmr__driver.html#gga2653ef9cc5ca81857a145811b7f210dea84753f1f721f5e6469a12c9c1a22c529">kQuadTmrIpBusClkDiv4</a>, 
<br/>
&#160;&#160;<a class="el" href="group__quadtmr__driver.html#gga2653ef9cc5ca81857a145811b7f210dea8d3e1a55889fb4ec8dd24a1193ee0e81">kQuadTmrIpBusClkDiv8</a>, 
<br/>
&#160;&#160;<a class="el" href="group__quadtmr__driver.html#gga2653ef9cc5ca81857a145811b7f210dea74a14002b265241720777a3f38f4c420">kQuadTmrIpBusClkDiv16</a>, 
<br/>
&#160;&#160;<a class="el" href="group__quadtmr__driver.html#gga2653ef9cc5ca81857a145811b7f210dea9f798bfc47e55edec756e123f44c745b">kQuadTmrIpBusClkDiv32</a>, 
<br/>
&#160;&#160;<a class="el" href="group__quadtmr__driver.html#gga2653ef9cc5ca81857a145811b7f210deaeef72f689a62e80f52565d8ccae4333b">kQuadTmrIpBusClkDiv64</a>, 
<br/>
&#160;&#160;<a class="el" href="group__quadtmr__driver.html#gga2653ef9cc5ca81857a145811b7f210dea79f2dde2a2015b63ed104fef5557332b">kQuadTmrIpBusClkDiv128</a>
<br/>
 }</td></tr>
<tr class="memdesc:ga2653ef9cc5ca81857a145811b7f210de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quad timer IP bus clock options to run the counter.  <a href="group__quadtmr__driver.html#ga2653ef9cc5ca81857a145811b7f210de">More...</a><br/></td></tr>
<tr class="separator:ga2653ef9cc5ca81857a145811b7f210de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf27bd6aaa4e7aa7d6beeabc82aa22c65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__quadtmr__driver.html#gaf27bd6aaa4e7aa7d6beeabc82aa22c65">QUADTMR_DRV_Init</a> (uint8_t instance)</td></tr>
<tr class="memdesc:gaf27bd6aaa4e7aa7d6beeabc82aa22c65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the Quad Timer driver.  <a href="#gaf27bd6aaa4e7aa7d6beeabc82aa22c65">More...</a><br/></td></tr>
<tr class="separator:gaf27bd6aaa4e7aa7d6beeabc82aa22c65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac6857618d7951a549d474b3f16a3aa6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__quadtmr__driver.html#gaac6857618d7951a549d474b3f16a3aa6">QUADTMR_DRV_Deinit</a> (uint8_t instance)</td></tr>
<tr class="memdesc:gaac6857618d7951a549d474b3f16a3aa6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shuts down the Quad Timer driver.  <a href="#gaac6857618d7951a549d474b3f16a3aa6">More...</a><br/></td></tr>
<tr class="separator:gaac6857618d7951a549d474b3f16a3aa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac662d5b49d3854e257149c430180688b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__quadtmr__driver.html#gac662d5b49d3854e257149c430180688b">QUADTMR_DRV_Start64BitCounter</a> (<a class="el" href="group__quadtmr__hal.html#ga85b9f7c33d3b2dafafe62ce0e0f4a8a5">quadtmr_pri_count_source_t</a> clk)</td></tr>
<tr class="memdesc:gac662d5b49d3854e257149c430180688b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides a 64-bit counter.  <a href="#gac662d5b49d3854e257149c430180688b">More...</a><br/></td></tr>
<tr class="separator:gac662d5b49d3854e257149c430180688b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11b3b421b20e16371be79008c95b0600"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__quadtmr__driver.html#ga11b3b421b20e16371be79008c95b0600">QUADTMR_DRV_Get64BitCountVal</a> (void)</td></tr>
<tr class="memdesc:ga11b3b421b20e16371be79008c95b0600"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current count value when running in 64-bit mode.  <a href="#ga11b3b421b20e16371be79008c95b0600">More...</a><br/></td></tr>
<tr class="separator:ga11b3b421b20e16371be79008c95b0600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga48817bd8ef10f565dd6bfe20d64e28f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__quadtmr__driver.html#ga48817bd8ef10f565dd6bfe20d64e28f4">QUADTMR_DRV_SetupFlexPwm</a> (uint8_t instance, <a class="el" href="group__quadtmr__driver.html#ga2653ef9cc5ca81857a145811b7f210de">quadtmr_ip_bus_clock_source_t</a> clockSrc, uint32_t pwmPulsePeriod, uint32_t pulseWidthPeriod)</td></tr>
<tr class="memdesc:ga48817bd8ef10f565dd6bfe20d64e28f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides the PWM signal.  <a href="#ga48817bd8ef10f565dd6bfe20d64e28f4">More...</a><br/></td></tr>
<tr class="separator:ga48817bd8ef10f565dd6bfe20d64e28f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f4554b503f01ed673f72b410a6fc56b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__quadtmr__driver.html#ga1f4554b503f01ed673f72b410a6fc56b">QUADTMR_DRV_UpdatePwm</a> (uint8_t instance, uint32_t pwmPulsePeriod, uint32_t pulseWidthPeriod)</td></tr>
<tr class="memdesc:ga1f4554b503f01ed673f72b410a6fc56b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides a way to update the current PWM signal.  <a href="#ga1f4554b503f01ed673f72b410a6fc56b">More...</a><br/></td></tr>
<tr class="separator:ga1f4554b503f01ed673f72b410a6fc56b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga95e0634da2011e0b4bc5b26e65ec6014"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__quadtmr__driver.html#ga95e0634da2011e0b4bc5b26e65ec6014">QUADTMR_DRV_IRQHandler</a> (uint8_t instance)</td></tr>
<tr class="memdesc:ga95e0634da2011e0b4bc5b26e65ec6014"><td class="mdescLeft">&#160;</td><td class="mdescRight">Action to take when a Quad Timer interrupt is triggered.  <a href="#ga95e0634da2011e0b4bc5b26e65ec6014">More...</a><br/></td></tr>
<tr class="separator:ga95e0634da2011e0b4bc5b26e65ec6014"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaa8b8f26e77d17a5412b9f834ea3082a3"><td class="memItemLeft" align="right" valign="top">TMR_Type *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__quadtmr__driver.html#gaa8b8f26e77d17a5412b9f834ea3082a3">g_quadtmrBase</a> [TMR_INSTANCE_COUNT]</td></tr>
<tr class="memdesc:gaa8b8f26e77d17a5412b9f834ea3082a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Table of base addresses for Quad Timer instances.  <a href="#gaa8b8f26e77d17a5412b9f834ea3082a3">More...</a><br/></td></tr>
<tr class="separator:gaa8b8f26e77d17a5412b9f834ea3082a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee7458c3ea95b82142de38f19a4f0405"><td class="memItemLeft" align="right" valign="top">const IRQn_Type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__quadtmr__driver.html#gaee7458c3ea95b82142de38f19a4f0405">g_quadtmrIrqId</a> [TMR_INSTANCE_COUNT]</td></tr>
<tr class="memdesc:gaee7458c3ea95b82142de38f19a4f0405"><td class="mdescLeft">&#160;</td><td class="mdescRight">Table to save Quad Timer IRQ enumeration numbers defined in the CMSIS header file.  <a href="#gaee7458c3ea95b82142de38f19a4f0405">More...</a><br/></td></tr>
<tr class="separator:gaee7458c3ea95b82142de38f19a4f0405"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga2653ef9cc5ca81857a145811b7f210de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__quadtmr__driver.html#ga2653ef9cc5ca81857a145811b7f210de">quadtmr_ip_bus_clock_source_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga2653ef9cc5ca81857a145811b7f210dea12c102670f0220887ee2f1c464e2fa77"></a>kQuadTmrIpBusClkDiv1</em>&nbsp;</td><td class="fielddoc">
<p>IP Bus clock Div 1. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga2653ef9cc5ca81857a145811b7f210dea67b92e6e2f96c20b8649e4a6ba16dc2e"></a>kQuadTmrIpBusClkDiv2</em>&nbsp;</td><td class="fielddoc">
<p>IP Bus clock Div 2. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga2653ef9cc5ca81857a145811b7f210dea84753f1f721f5e6469a12c9c1a22c529"></a>kQuadTmrIpBusClkDiv4</em>&nbsp;</td><td class="fielddoc">
<p>IP Bus clock Div 4. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga2653ef9cc5ca81857a145811b7f210dea8d3e1a55889fb4ec8dd24a1193ee0e81"></a>kQuadTmrIpBusClkDiv8</em>&nbsp;</td><td class="fielddoc">
<p>IP Bus clock Div 8. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga2653ef9cc5ca81857a145811b7f210dea74a14002b265241720777a3f38f4c420"></a>kQuadTmrIpBusClkDiv16</em>&nbsp;</td><td class="fielddoc">
<p>IP Bus clock Div 16. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga2653ef9cc5ca81857a145811b7f210dea9f798bfc47e55edec756e123f44c745b"></a>kQuadTmrIpBusClkDiv32</em>&nbsp;</td><td class="fielddoc">
<p>IP Bus clock Div 32. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga2653ef9cc5ca81857a145811b7f210deaeef72f689a62e80f52565d8ccae4333b"></a>kQuadTmrIpBusClkDiv64</em>&nbsp;</td><td class="fielddoc">
<p>IP Bus clock Div 64. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga2653ef9cc5ca81857a145811b7f210dea79f2dde2a2015b63ed104fef5557332b"></a>kQuadTmrIpBusClkDiv128</em>&nbsp;</td><td class="fielddoc">
<p>IP Bus clock Div 128. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaf27bd6aaa4e7aa7d6beeabc82aa22c65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QUADTMR_DRV_Init </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the Quad Timer registers, un-gates the module clock and enables Quad Timer interrupt in the system interrupt controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The Quad Timer peripheral instance number. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaac6857618d7951a549d474b3f16a3aa6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QUADTMR_DRV_Deinit </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gates the module clock and disables the interrupt in the system interrupt controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The Quad Timer peripheral instance number. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac662d5b49d3854e257149c430180688b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QUADTMR_DRV_Start64BitCounter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__quadtmr__hal.html#ga85b9f7c33d3b2dafafe62ce0e0f4a8a5">quadtmr_pri_count_source_t</a>&#160;</td>
          <td class="paramname"><em>clk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The user gets to choose which source clock is used by the counter. The user must ensure that the <a class="el" href="group__quadtmr__driver.html#gaf27bd6aaa4e7aa7d6beeabc82aa22c65" title="Initializes the Quad Timer driver. ">QUADTMR_DRV_Init()</a> function is called on all timer instances because all timer instances are used in this mode. Timer 0 is clocked via the source clock and Timers 1, 2, and 3 are set up in the cascade mode. All 4 counters count up to 0xFFFF, then roll-over and continue counting.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clk</td><td>Source clock that feeds timer 0 counter. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga11b3b421b20e16371be79008c95b0600"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t QUADTMR_DRV_Get64BitCountVal </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function reads all 4 timer values and returns the value.</p>
<dl class="section return"><dt>Returns</dt><dd>The current value of all 4 counters is concatenated to a 64-bit value. </dd></dl>

</div>
</div>
<a class="anchor" id="ga48817bd8ef10f565dd6bfe20d64e28f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QUADTMR_DRV_SetupFlexPwm </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__quadtmr__driver.html#ga2653ef9cc5ca81857a145811b7f210de">quadtmr_ip_bus_clock_source_t</a>&#160;</td>
          <td class="paramname"><em>clockSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pwmPulsePeriod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pulseWidthPeriod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The user provides the input clock source which is derived from the IP Bus clock. The user also provides the desired PWM signal's period in microseconds and the pulse width in microseconds. This function enables the pre-load function for each compare register to allow updating the PWM signal characteristics at a later time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The Quad timer peripheral instance number. </td></tr>
    <tr><td class="paramname">clockSrc</td><td>Counter source clock, options available in quadtmr_ip_bus_clock_source_t enum </td></tr>
    <tr><td class="paramname">pwmPulsePeriod</td><td>PWM period specified in microseconds </td></tr>
    <tr><td class="paramname">pulseWidthPeriod</td><td>PWM pulse width specified in microseconds </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga1f4554b503f01ed673f72b410a6fc56b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QUADTMR_DRV_UpdatePwm </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pwmPulsePeriod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pulseWidthPeriod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prior to calling this function, the user should call the <a class="el" href="group__quadtmr__driver.html#ga48817bd8ef10f565dd6bfe20d64e28f4" title="Provides the PWM signal. ">QUADTMR_DRV_SetupFlexPwm()</a> function to start outputting a PWM signal. Call this function to update the PWM's period and/or pulse width. The PWM continues to be derived from the clock source provided during setup.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The Quad timer peripheral instance number. </td></tr>
    <tr><td class="paramname">pwmPulsePeriod</td><td>Updated PWM period specified in microseconds </td></tr>
    <tr><td class="paramname">pulseWidthPeriod</td><td>Updated PWM pulse width specified in microseconds </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga95e0634da2011e0b4bc5b26e65ec6014"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QUADTMR_DRV_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The timer compare flags are checked and cleared if set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The Quad timer peripheral instance number. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="gaa8b8f26e77d17a5412b9f834ea3082a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TMR_Type* const g_quadtmrBase[TMR_INSTANCE_COUNT]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gaee7458c3ea95b82142de38f19a4f0405"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const IRQn_Type g_quadtmrIrqId[TMR_INSTANCE_COUNT]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul class="foot">
    <li class="footer">Mon Apr 27 2015 &copy; 2015 Freescale Semiconductor, Inc. All rights reserved.
    </li>
  </ul>
</div>
</body>
</html>
